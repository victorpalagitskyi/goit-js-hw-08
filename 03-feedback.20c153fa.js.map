{"mappings":"YACA,IAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAQ,sBACRC,EAAeH,SAASC,cAAc,SACtCG,EAAiBJ,SAASC,cAAc,YAC1CI,EAAS,GACTC,EAAW,GAoBf,IAAMC,EATL,SAAcC,GACP,IACI,IAAMC,EAAUC,aAAaC,QAAQH,GACrC,OAAmB,OAAZC,OAAmBG,EAAYC,KAAKC,MAAML,E,CAErD,MAAOM,GACHC,QAAQC,MAAMF,E,EAGLG,CAAKhB,QACLU,IAAjBL,GACAJ,EAAagB,MAAQ,GACjBf,EAAegB,YAAc,KAEjCjB,EAAagB,MAAQZ,EAAac,MAClCjB,EAAegB,YAAcb,EAAae,SAG9CvB,EAAKwB,iBAAiB,SACtB,SAAoBC,GACe,UAA1BA,EAAMC,OAAOC,SACdrB,EAASmB,EAAMC,OAAON,MAGtBb,EAAYkB,EAAMC,OAAON,OAjChC,SAAcX,EAAKW,GACZ,IACI,IAAMQ,EAASd,KAAKe,UAAUT,GAC9BT,aAAamB,QAAQrB,EAAKmB,E,CAC5B,MAAOZ,GACLC,QAAQC,MAAMF,E,EA8BtBe,CAAK5B,EAAO,CACRmB,MAAOhB,EACPiB,QAAShB,G,IAOjBP,EAAKwB,iBAAiB,UAAU,SAACC,GAC7BA,EAAMO,iBACN,IAEuBC,EAAnBR,EAAMS,cADNC,SAAYb,EAAKW,EAALX,MAAOC,EAAOU,EAAPV,QAEvBN,QAAQmB,IAAI5B,GACZc,EAAMF,MAAQ,GACdG,EAAQH,MAAQ,GAChBT,aAAa0B,WAAWlC,E","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\nconst form = document.querySelector(\".feedback-form\")\nconst S_KEY = \"feedback-form-state\"\nconst currentEmail = document.querySelector(\"input\")\nconst currentMessage = document.querySelector(\"textarea\")\nlet c_Mail = \"\"\nlet c_Message =\"\"\n// ===============================================================\n function save(key, value) {\n        try {\n            const s_Data = JSON.stringify(value);\n            localStorage.setItem(key, s_Data)\n        } catch (err) {\n            console.error(err)\n        }\n }\n    \n function load(key) {\n        try {\n            const s_State = localStorage.getItem(key)\n            return s_State === null ? undefined : JSON.parse(s_State)\n        }\n        catch (err) {\n            console.error(err)\n         }\n }\nconst currentState = load(S_KEY)\nif (currentState === undefined) {\n    currentEmail.value = \"\",\n        currentMessage.textContent = \"\"\n} else {\n    currentEmail.value = currentState.email\n    currentMessage.textContent = currentState.message\n}\n// throttle(onFormData, 500))\nform.addEventListener(\"input\", onFormData)\nfunction onFormData(event) {\n    if ((event.target.nodeName === \"INPUT\")) {\n        c_Mail = event.target.value\n    }\n    else {\n        c_Message = event.target.value\n    }\n    save(S_KEY, {\n        email: c_Mail,\n        message: c_Message\n    });\n    \n}\n\n\n// ==============================================================\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const {\n        elements: { email, message }\n    } = event.currentTarget; \n    console.log(currentState)\n    email.value = \"\";\n    message.value = \"\";\n    localStorage.removeItem(S_KEY)\n    \n    })\n\n\n    "],"names":["$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$S_KEY","$b00c40859be242c5$var$currentEmail","$b00c40859be242c5$var$currentMessage","$b00c40859be242c5$var$c_Mail","$b00c40859be242c5$var$c_Message","$b00c40859be242c5$var$currentState","key","s_State","localStorage","getItem","undefined","JSON","parse","err","console","error","$b00c40859be242c5$var$load","value","textContent","email","message","addEventListener","event","target","nodeName","s_Data","stringify","setItem","$b00c40859be242c5$var$save","preventDefault","_elements","currentTarget","elements","log","removeItem"],"version":3,"file":"03-feedback.20c153fa.js.map"}