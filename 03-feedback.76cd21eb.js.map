{"mappings":"AACA,MAAMA,EAAOC,SAASC,cAAc,kBAE9BC,EAAeF,SAASC,cAAc,SACtCE,EAAiBH,SAASC,cAAc,YAC9C,IAAIG,EAAS,GACTC,EAAW,GAoBf,MAAMC,EATL,SAAcC,GACP,IACI,MAAMC,EAAUC,aAAaC,QAAQH,GACrC,OAAmB,OAAZC,OAAmBG,EAAYC,KAAKC,MAAML,E,CAErD,MAAOM,GACHC,QAAQC,MAAMF,E,EAGLG,CAxBP,4BAyBON,IAAjBL,GACAJ,EAAagB,MAAQ,GACjBf,EAAegB,YAAc,KAEjCjB,EAAagB,MAAQZ,EAAac,MAClCjB,EAAegB,YAAcb,EAAae,SAG9CtB,EAAKuB,iBAAiB,SACtB,SAAoBC,GACe,UAA1BA,EAAMC,OAAOC,SACdrB,EAASmB,EAAMC,OAAON,MAGtBb,EAAYkB,EAAMC,OAAON,OAjChC,SAAcX,EAAKW,GACZ,IACI,MAAMQ,EAASd,KAAKe,UAAUT,GAC9BT,aAAamB,QAAQrB,EAAKmB,E,CAC5B,MAAOZ,GACLC,QAAQC,MAAMF,E,EA8BtBe,CAzCU,sBAyCE,CACRT,MAAOhB,EACPiB,QAAShB,G,IAOjBN,EAAKuB,iBAAiB,UAAWC,IAC7BA,EAAMO,iBACN,MACIC,UAAUX,MAAEA,EAAKC,QAAEA,IACnBE,EAAMS,cACVjB,QAAQkB,IAAI3B,GACZc,EAAMF,MAAQ,GACdG,EAAQH,MAAQ,GAChBT,aAAayB,WA1DH,sBA0DoB","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\nconst form = document.querySelector(\".feedback-form\")\nconst S_KEY = \"feedback-form-state\"\nconst currentEmail = document.querySelector(\"input\")\nconst currentMessage = document.querySelector(\"textarea\")\nlet c_Mail = \"\"\nlet c_Message =\"\"\n// ===============================================================\n function save(key, value) {\n        try {\n            const s_Data = JSON.stringify(value);\n            localStorage.setItem(key, s_Data)\n        } catch (err) {\n            console.error(err)\n        }\n }\n    \n function load(key) {\n        try {\n            const s_State = localStorage.getItem(key)\n            return s_State === null ? undefined : JSON.parse(s_State)\n        }\n        catch (err) {\n            console.error(err)\n         }\n }\nconst currentState = load(S_KEY)\nif (currentState === undefined) {\n    currentEmail.value = \"\",\n        currentMessage.textContent = \"\"\n} else {\n    currentEmail.value = currentState.email\n    currentMessage.textContent = currentState.message\n}\n// throttle(onFormData, 500))\nform.addEventListener(\"input\", onFormData)\nfunction onFormData(event) {\n    if ((event.target.nodeName === \"INPUT\")) {\n        c_Mail = event.target.value\n    }\n    else {\n        c_Message = event.target.value\n    }\n    save(S_KEY, {\n        email: c_Mail,\n        message: c_Message\n    });\n    \n}\n\n\n// ==============================================================\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const {\n        elements: { email, message }\n    } = event.currentTarget; \n    console.log(currentState)\n    email.value = \"\";\n    message.value = \"\";\n    localStorage.removeItem(S_KEY)\n    \n    })\n\n\n    "],"names":["$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$currentEmail","$945622fd0f572e60$var$currentMessage","$945622fd0f572e60$var$c_Mail","$945622fd0f572e60$var$c_Message","$945622fd0f572e60$var$currentState","key","s_State","localStorage","getItem","undefined","JSON","parse","err","console","error","$945622fd0f572e60$var$load","value","textContent","email","message","addEventListener","event","target","nodeName","s_Data","stringify","setItem","$945622fd0f572e60$var$save","preventDefault","elements","currentTarget","log","removeItem"],"version":3,"file":"03-feedback.76cd21eb.js.map"}